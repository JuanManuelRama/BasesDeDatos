@startuml BI
hide methods

entity Sucursal {
    sucursal_id : bigint
    --
    sucursal_provincia : varchar(50)
    sucursal_localidad : varchar(50)
}

entity Cliente {
    cliente_id <<auto>>
    --
    cliente_minimo : int
    cliente_maximo : int
    cliente_rango : varchar(5)
}

entity Modelo {
    modelo_id : bigint
    --
    modelo_nombre : varchar(50)
}

entity Fecha {
    fecha_id <<auto>>
    --
    fecha_mes : int
    fecha_a√±o : int
    fecha_cuatrimestre : int
}

entity Material {
    material_id <<auto>>
    --
    material_nombre
}

entity Turno {
    turno_id <<auto>>
    --
    turno_minimo_horas: int
    turno_minimo_minutos: int
    turno_maximo_horas: int
    turno_maximo_minutos: int
    turno_rango: varchar(13)
}

entity Localidad {
    localidad_id
    --
    localidad_nombre
    localidad_provincia
}

entity fact_table_factura {
    id_fecha <<FK>>
    id_sucursal <<FK>>
    id_modelo <<FK>>
    id_cliente <<FK>>
    --
    fact_numero
    fact_precio
    fact_cantidad
    fact_total
}

entity fact_table_compra {
    id_fecha <<FK>>
    id_sucursal <<FK>>
    id_material <<FK>>
    --
    compra_precio
    compra_cantidad
    compra_total
}

entity fact_table_pedido {
    id_fecha <<FK>>
    id_turno <<FK>>
    id_sucursal <<FK>>
    id_modelo <<FK>>
    id_cliente <<FK>>
    --
    pedido_numero
    pedido_estado
    pedido_precio
    pedido_cantidad
    pedido_total
}

entity fact_table_envio {
    id_fecha <<FK>>
    id_localidad <<FK>>
    --
	envio_numero,
	envio_fecha_programada,
	envio_fecha_entrega,
	envio_total 
}


fact_table_factura --> Cliente
fact_table_factura --> Sucursal
Fecha <-- fact_table_factura
Modelo <-- fact_table_factura

Fecha <-- fact_table_compra
fact_table_compra --> Sucursal
fact_table_compra --> Material

fact_table_pedido --> Cliente
fact_table_pedido --> Sucursal
Fecha <-- fact_table_pedido
Modelo <-- fact_table_pedido
Turno <-- fact_table_pedido



Fecha <-- fact_table_envio
Localidad <-- fact_table_envio

@enduml