@startuml BI
hide methods

entity Sucursal {
    sucursal_id : bigint
    --
    sucursal_provincia : varchar(50)
    sucursal_localidad : varchar(50)
}

entity Cliente {
    cliente_id <<auto>>
    --
    cliente_minimo : int
    cliente_maximo : int
    cliente_rango : varchar(5)
}

entity Modelo {
    modelo_id : bigint
    --
    modelo_nombre : varchar(50)
}

entity Fecha {
    fecha_id <<auto>>
    --
    fecha_mes : int
    fecha_a√±o : int
    fecha_cuatrimestre : int
}

entity Material {
    material_id <<auto>>
    --
    material_nombre
}

entity Turno {
    turno_id <<auto>>
    --
    turno_maximo_horas: int
    turno_maximo_minutos: int
    turno_minimo_horas: int
    turno_minimo_minutos: int
    turno_rango: varchar(13)
}

entity fact_table_facturas {
    id_fecha <<FK>>
    id_sucursal <<FK>>
    id_modelo <<FK>>
    id_cliente <<FK>>
    --
    fact_numero
    fact_precio
    fact_cantidad
    fact_total
}

entity fact_table_compra {
    id_fecha <<FK>>
    id_sucursal <<FK>>
    id_material <<FK>>
    --
    compra_precio
    compra_cantidad
    compra_total
}

entity fact_table_pedidos {
    id_fecha <<FK>>
    id_turno <<FK>>
    id_sucursal <<FK>>
    id_modelo <<FK>>
    id_cliente <<FK>>
    --
    pedido_numero
    pedido_precio
    pedido_cantidad
    pedido_total
}

fact_table_facturas --> Cliente
fact_table_facturas --> Sucursal
Fecha <-- fact_table_facturas
Modelo <-- fact_table_facturas

Fecha <-- fact_table_compra
fact_table_compra --> Sucursal
fact_table_compra --> Material

fact_table_pedidos --> Cliente
fact_table_pedidos --> Sucursal
Fecha <-- fact_table_pedidos
Modelo <-- fact_table_pedidos
Turno <-- fact_table_pedidos




@enduml